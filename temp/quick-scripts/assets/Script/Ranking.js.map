{"version":3,"sources":["Ranking.js"],"names":["Emitter","require","game","cc","Class","extends","Component","properties","backHome","Button","listTop","ScrollView","addTop","Prefab","masterName","index","onLoad","instance","registerEvent","onGetArray","bind","addTopTen","node","on","onBackHome","addMaster","emit","nameMaster","scoreMaster","goToPoint","children","newMasterName","instantiate","getComponent","Label","string","x","y","newMasterScore","addChild","i","topTen","newMaster","newScore","childrenCount","start"],"mappings":"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","file":"Ranking.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require('Emitter');\nconst game = require('Game');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        backHome: cc.Button,\n        listTop: cc.ScrollView,\n        addTop: cc.Prefab,\n        masterName: cc.Prefab,\n        index: 0,\n    },\n\n    onLoad() {\n        Emitter.instance.registerEvent('showRank', this.onGetArray.bind(this));\n        this.addTopTen();\n        this.backHome.node.on('click', this.onBackHome, this);\n        Emitter.instance.registerEvent('addMasterName', this.addMaster.bind(this));\n    },\n\n    onBackHome() {\n        Emitter.instance.emit('transformScreen', 'home');\n    },\n\n    onGetArray(nameMaster, scoreMaster) {\n        let goToPoint = this.listTop.node.children[1].children[0];\n        let newMasterName = new cc.instantiate(this.masterName);\n        newMasterName.getComponent(cc.Label).string = nameMaster;\n        newMasterName.x = -20;\n        newMasterName.y = -80 * this.index + 80;\n        let newMasterScore = new cc.instantiate(this.masterName);\n        newMasterScore.getComponent(cc.Label).string = scoreMaster;\n        newMasterScore.x = 0;\n        newMasterScore.y = -80 * this.index + 80;\n        this.index++;\n        goToPoint.children[1].addChild(newMasterName);\n        goToPoint.children[2].addChild(newMasterScore);\n    },\n\n    addTopTen() {\n        for (let i = 1; i < 10; i++) {\n            let topTen = new cc.instantiate(this.addTop);\n            topTen.getComponent(cc.Label).string = \"Top\" + \" \" + (i + 1);\n            topTen.x = -50;\n            topTen.y = -80 * i;\n            this.listTop.node.children[1].children[0].children[0].addChild(topTen);\n        }\n    },\n\n    addMaster(newMaster, newScore) {\n        let goToPoint = this.listTop.node.children[1].children[0];\n        let newMasterName = new cc.instantiate(this.masterName);\n        newMasterName.getComponent(cc.Label).string = newMaster;\n        newMasterName.x = -20;\n        newMasterName.y = -80 * this.index + 80;\n        let newMasterScore = new cc.instantiate(this.masterName);\n        newMasterScore.getComponent(cc.Label).string = newScore;\n        newMasterScore.x = 0;\n        newMasterScore.y = -80 * this.index + 80;\n        this.index++;\n        if (goToPoint.children[1].childrenCount < 10) {\n            goToPoint.children[1].addChild(newMasterName);\n            goToPoint.children[2].addChild(newMasterScore);\n        }\n        else {\n            // cc.log(score);\n        }\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n});\n"]}