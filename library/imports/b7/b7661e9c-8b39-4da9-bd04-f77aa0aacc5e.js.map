{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\Throw.js"],"names":["cc","Class","extends","Component","properties","boardNode","Node","dartNode","dartPrefab","Prefab","onLoad","node","on","throwDart","boardRotation","dartNodeArr","runAction","sequence","moveTo","v2","x","y","width","callFunc","instantiate","setPosition","addChild","push","start","update","dt","angle","rad","Math","PI","r","cos","sin"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACTC,mBAAWL,GAAGM,IADL;AAETC,kBAAUP,GAAGM,IAFJ;AAGTE,oBAAYR,GAAGS;AAHN,KAHP;;AASLC,UATK,oBASK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAa,YAAb,EAA2B,KAAKC,SAAhC,EAA2C,IAA3C;AACA,aAAKC,aAAL,GAAqB,CAArB;AACA,aAAKC,WAAL,GAAmB,EAAnB;AACH,KAbI;AAeLF,aAfK,uBAeO;AAAA;;AACR,aAAKN,QAAL,CAAcS,SAAd,CACIhB,GAAGiB,QAAH,CACIjB,GAAGkB,MAAH,CAAU,GAAV,EAAelB,GAAGmB,EAAH,CAAM,KAAKZ,QAAL,CAAca,CAApB,EAAuB,KAAKf,SAAL,CAAegB,CAAf,GAAmB,KAAKhB,SAAL,CAAeiB,KAAf,GAAqB,CAAxC,GAA4C,EAAnE,CAAf,CADJ,EAEItB,GAAGuB,QAAH,CAAY,YAAI;AACZ,gBAAIhB,WAAWP,GAAGwB,WAAH,CAAe,MAAKhB,UAApB,CAAf;AACAD,qBAASkB,WAAT,CAAqB,CAArB,EAAwB,MAAKlB,QAAL,CAAcc,CAAd,GAAkB,GAA1C;AACA,kBAAKV,IAAL,CAAUe,QAAV,CAAmBnB,QAAnB;AACA,kBAAKA,QAAL,CAAckB,WAAd,CAA0BzB,GAAGmB,EAAH,CAAM,CAAN,EAAS,CAAC,GAAV,CAA1B;AACA,kBAAKJ,WAAL,CAAiBY,IAAjB,CAAsBpB,QAAtB;AACH,SAND,CAFJ,CADJ;AAYH,KA5BI;AA8BLqB,SA9BK,mBA8BI,CAER,CAhCI;AAkCLC,UAlCK,kBAkCGC,EAlCH,EAkCO;AACR,aAAKzB,SAAL,CAAe0B,KAAf,IAAwB,KAAKjB,aAA7B;AADQ;AAAA;AAAA;;AAAA;AAER,iCAAoB,KAAKC,WAAzB,8HAAqC;AAAA,oBAA7BR,QAA6B;;AACjCA,yBAASwB,KAAT,IAAkB,KAAKjB,aAAvB;AACA,oBAAIkB,MAAMC,KAAKC,EAAL,IAAW3B,SAASwB,KAAT,GAAiB,EAA5B,IAAkC,GAA5C;AACA,oBAAII,IAAI,KAAK9B,SAAL,CAAeiB,KAAf,GAAuB,GAA/B;AACAf,yBAASa,CAAT,GAAae,IAAIF,KAAKG,GAAL,CAASJ,GAAT,CAAjB;AACAzB,yBAASc,CAAT,GAAa,MAAMc,IAAIF,KAAKI,GAAL,CAASL,GAAT,CAAvB;AACH;AARO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASX;AA3CI,CAAT","file":"Throw.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       boardNode: cc.Node,\r\n       dartNode: cc.Node,\r\n       dartPrefab: cc.Prefab,\r\n    },\r\n\r\n    onLoad () {\r\n        this.node.on('touchstart', this.throwDart, this);\r\n        this.boardRotation = 2;\r\n        this.dartNodeArr = [];\r\n    },\r\n\r\n    throwDart() {\r\n        this.dartNode.runAction(\r\n            cc.sequence(\r\n                cc.moveTo(0.2, cc.v2(this.dartNode.x, this.boardNode.y - this.boardNode.width/2 - 10)), \r\n                cc.callFunc(()=>{\r\n                    let dartNode = cc.instantiate(this.dartPrefab);\r\n                    dartNode.setPosition(0, this.dartNode.y + 200);\r\n                    this.node.addChild(dartNode);\r\n                    this.dartNode.setPosition(cc.v2(0, -400));\r\n                    this.dartNodeArr.push(dartNode);\r\n                })\r\n            )\r\n        );\r\n    },\r\n\r\n    start () {\r\n        \r\n    },\r\n\r\n    update (dt) {\r\n        this.boardNode.angle += this.boardRotation; \r\n        for(let dartNode of this.dartNodeArr){\r\n            dartNode.angle += this.boardRotation;\r\n            let rad = Math.PI * (dartNode.angle - 90) / 180;\r\n            let r = this.boardNode.width / 1.9;\r\n            dartNode.x = r * Math.cos(rad);\r\n            dartNode.y = 200 + r * Math.sin(rad);\r\n        }\r\n    },\r\n});\r\n"]}